{{!
    "novalidate" disables the browser's default validation and
    gets rid of "Please fill out this field" popups
}}
<form class="was-validated" novalidate>
    {{#each this.visibleFields as |field|}}
        <OxiSection::Form::Field
            @field={{field}}
            @addClone={{this.addClone}}
            @delClone={{this.delClone}}
            @setValue={{fn this.setFieldValue field}}
            @setName={{fn this.setFieldName field}}
            @setError={{fn this.setFieldError field}}
            @submit={{this.submit}}
            @setFocusInfo={{fn this.setFocusInfo field}}
            @encodeFields={{this.encodeFields}}
        />
    {{/each}}
</form>

<form>
    <div class="form-group row">
        <div class="offset-lg-2 col-lg-7">
            <OxiBase::ButtonContainer @buttons={{@def.buttons}} @buttonClick={{@buttonClick}}>
                <BsButton
                    @type="light"
                    @onClick={{this.submit}}
                    class="{{if this.loading "oxi-btn-loading"}} oxi-btn-submit"
                >
                    {{try @def.submit_label (t 'component.oxisection_form.submit')}}
                </BsButton>
                {{#if @def.reset}}
                    <BsButton
                        @type="light"
                        @onClick={{this.reset}}
                        class="oxi-btn-reset"
                    >
                        {{try @def.reset_label (t 'component.oxisection_form.reset')}}
                    </BsButton>
                {{/if}}
            </OxiBase::ButtonContainer>
        </div>
    </div>
</form>
